<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZACK - Applicazione di Consultazione</title>
  
  <!-- Stili CSS in ordine di prioritÃ  -->
  <link rel="stylesheet" href="home.css">
  <link rel="stylesheet" href="sidebar/sidebar.css">
  
  <!-- Script JavaScript in ordine di dipendenza -->
  <script src="vue.global.js"></script>
</head>
<body>
  <!-- IMPORTANTE: Elemento effetto libro PRIMA dell'app Vue -->
  <div id="book-effect"></div>
  
  <div id="app">
    <!-- Sidebar laterale -->
    <nav class="sidebar">
      <button
        v-for="(pagina, idx) in pagine"
        :key="idx"
        @click="vaiAllaPagina(idx)"
        :class="{ 
          'active': paginaAttiva === idx,
          'search-match': corrispondeRicerca(idx)
        }"
      >
        {{ pagina.nome }}
      </button>
    </nav>

    <!-- Barra di ricerca sopra il contenuto -->
    <iframe
      src="ricerca/ricerca.html"
      class="iframe-ricerca"
      title="Barra di ricerca"
      frameborder="0"
    ></iframe>

    <!-- Contenuto principale -->
    <main class="content">
      <iframe
        v-if="paginaAttiva !== null"
        :src="pagine[paginaAttiva]?.file"
        class="page-content"
        title="Sottopagina"
        frameborder="0"
      ></iframe>
      <div v-else class="page-title-preview">Seleziona una pagina</div>
    </main>
  </div>
  
  <!-- Script applicazione -->
  <script src="sidebar/sidebar.js"></script>

  <!-- Script per completare l'effetto libro -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const bookEffect = document.getElementById('book-effect');
      
      // Crea l'elemento per la copertina destra
      const rightCover = document.createElement('div');
      rightCover.style.width = '2px';
      rightCover.style.height = '100%';
      rightCover.style.background = '#a52222';
      rightCover.style.boxShadow = '2px 0 4px rgba(0,0,0,0.3)';
      
      // Aggiungilo all'effetto libro
      bookEffect.appendChild(rightCover);
    });
  </script>
</body>
</html>